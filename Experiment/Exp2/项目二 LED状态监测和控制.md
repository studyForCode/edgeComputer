														**项目一 温湿度数据采集上报**

#### 1. 项目背景

​		本项目由终端设备在edgex平台上注册LED监测和控制命令,再通过云端web服务对各个设备的LED状态进行监测和控制。

#### 2.传感器介绍

​      1）双色LED灯源模块

​		将引脚S（绿色）和中间管脚R（红色）连接到树莓派的GPO 接口上，对树莓派进行编程控制，将LED的颜色从红色变为绿色，然后使用PWM混合其他颜色。

​		该模块的原理图如下所示：



#### 3. 项目数据流

##### 1）终端与边端的数据传递

 

​		终端设备向EdgeX注册LED状态查询和控制命令,该命令通过Command Topic发布,并由终端设备通过Response Topic响应。

##### 2）边端与云端的数据传递

 

​		用户通过前端页面读取或控制LED灯状态,前端页面接收到用户操作后,将查询/控制请求发送至云端web服务器,web服务器调用EdgeX提供的rest接口对终端进行访问。

#### 4.传感器连接

​		将双色LED模块的各引脚与树莓派相连接。

| 双色LED Pin | Signal   | T形转接板 Pin |
| ----------- | -------- | ------------- |
| S           | Data/Out | 12(GPIO18)    |
| R           | Data/Out | 11(GPIO17)    |
| -           | Ground   | GND           |

注：GPIO17、GPIO18是BCM编号系统的引脚号

连接树莓派与LED灯具体如下图所示：

