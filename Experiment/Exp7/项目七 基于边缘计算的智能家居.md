**项目七 基于边缘计算的智能家居**

#### 1. 项目背景

​		智能家居是在互联网影响之下物联化的体现。智能家居通过物联网技术将家中的各种设备（如音视频设备、照明系统、窗帘控制、空调控制、安防系统、数字影院系统、影音服务器、影柜系统、网络家电等）连接到一起，提供家电控制、照明控制、电话远程控制、室内外遥控、防盗报警、环境监测、暖通控制、红外转发以及可编程定时控制等多种功能和手段。与普通家居相比，智能家居不仅具有传统的居住功能，兼备建筑、网络通信、信息家电、设备自动化，提供全方位的信息交互功能，甚至为各种能源费用节约资金。

​		在智能家居中，根据用户的生活需要，布置不同的传感器和不同的生活用品。智能家居的使用场景，主要在于用户的固定去场所，相关的设备相对固定，且在用户日常生活中会产生大量的私人敏感数据。因此边缘计算对于智能家居，具备普遍性的要求。

​		智能家居技术主要涵盖感知、通信和计算3个层次。感知技术利用丰富的传感器感知周围环境和用户活动。通信技术实现智能设备的互通互联，完成数据传输和指令交互。云计算、边缘计算分别利用不同节点的计算能力共同完成数据处理任务，实现智能服务。

#### 2. 传感器介绍

 		1）轻触按键传感器

​		轻触按键是最为常见的按键模块，其内部有一个轻触拨盘，当按下轻触按键时，树莓派的I/O口监测到低电平(0V)；当松开轻触按键时，树莓派的I/O口检测到高电平(3.3V)。



2）摄像头模块

摄像头为树莓派Pi Camera V2 800W像素摄像头。

3）红外测温传感器(MLX90614)

​		MLX90614是一款红外非接触温度计，由内部状态机控制物体温度和环境温度的测量和计算，并将结果通过PWM或是SMBus模式输出。MCU主要通过SMBus协议与MLX90614通信，读取或者修改它的数据。

​		MLX90614的出厂校准温度范围很广：环境温度为-40℃-125℃，目标温度为-70℃-380℃。测量值是传感器视场中所有物体的平均温度。在室温下，MLX90614的标准精确度为±0.5℃。

​		MLX90614有四个引脚，其中每个管脚的功能如下表所示。



​		

| 名称    | 功能描述                                                     |
| ------- | ------------------------------------------------------------ |
| VSS/GND | 电源地，金属外壳和该管脚相连                                 |
| SCL/Vz  | SMBus接口的时钟信号，或8-16V电源供电时接三极管基极           |
| PWM/SDA | PWM或SMBus接口的数据信号，通常模式下从该管脚通过PWM输出物体温度 |
| VDD     | 电源                                                         |

​		MLX90614的原理图如图所示：



#### 3. 项目数据流



1. 生产线摄像头采集摄像头拍摄的图像、外界温度、空调温度(在不同模式下采集不同的数据)信息，上传至边缘服务器

2. 边缘服务器在“主人居家模式下”，根据外界温度控制空调的状态

3. 将终端采集的信息上传至云端服务器，云端服务器汇总终端信息进行家庭防盗、家具智能调控等

#### 4.传感器连接

​		将轻触按键的各引脚与树莓派相连接。

| 轻触按键 Pin | Signal   | T形转接板 Pin |
| ------------ | -------- | ------------- |
| SIG(S)       | 电平信号 | GPIO17        |
| VCC          | 电源     | 5V            |
| GND(-)       | Ground   | GND           |

将摄像头与树莓派相连接。

摄像头排线最底部一面有蓝色胶带，另一面有纹路，将蓝色胶带一面朝向网线接口，有纹路的一面朝向HDMI接口，插入CSI接口中。



其中，蓝圈1表示网线接口，蓝圈2表示HDMI接口，中间红圈表示CSI接口。

将红外测温模块的各引脚与树莓派相连接。

| 红外测温模块 Pin | Signal | T形转接板 Pin |
| ---------------- | ------ | ------------- |
| SDA              | 数据   | 3(SDA.1)      |
| SCL              | 时钟   | 5(SCL.1)      |
| GND              | Ground | 9(GND)        |
| VDD              | +      | 3.3V          |

连接树莓派与摄像头、红外测温模块具体如下图所示：

